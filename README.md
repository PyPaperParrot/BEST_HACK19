# BEST_HACK19
Anunaki's team repository for BEST HACK'19 (data science track)
# Задача
Создать математическую модель летящего груза, как материальной точки для определения начальных условий сброса: координат (X, Z) и направления вектора скорости (угол alpha - изображен положительным на рисунке). При этом надо обеспечить ряд следующих условий:
  
  1. Возможность задания начальных услови:
  
    H_0 - высоты сброса не более 1400 м;
  
    V_0 - начальная скорость груза не более 250 м/с;
  
    m - масса;
  
    F_a - аэродинамическая сила на грузе, направление действия противоположно вектору скорости;
  
    База данных (БД) ветров - зависимость направления ветра от высоты.
  
  2. Обеспечить попадание груза в зону приземления, приветствуется большая точность.

# Работа с приложением
Запуск приложения необходимо производить в ОС Windows.
Все файлы проекта находятся в zip-архиве BEST HACK19.zip. Скачайте данный архив и извлеките в одну директорию все содержащиеся в нем файлы:
    
    1) F.csv -- файл с таблицей 1 (Зависимость аэродинамической силы от скорости движения груза);
    2) Wind.csv -- файл с таблицей 2 (Распределение поля ветров по высоте, где: Y - высота над уровнем земли; Wx, Wz - проекции ветра на ось X и Z соответственно);
    3) main.cpp -- файл с кодом на языке C++, в котором описана математическая модель летящего груза и выполнена основная задача;
    4) trajectory.txt -- файл содержит время, скорость, три координаты по осям в каждый момент времени, т.е. зависимость скорости и координат от времени;
    5) trajectory.py -- файл содержит программу на python для визуализации траектории и множества точек сброса; 
    6) start.bat - файл последовательно запускает скрипты .cpp и .py;
    
# Запуск
  Важно: файлы .csv могут быть заменены на Ваши.
  
  Существует несколько способов запустить приложение:
1.
  а) Перемещаем файлы .csv, .py, .cpp в одну директорию;
  б) Компилируем main.cpp файл в Visual Studio;
  в) Запускаем файл .py для получения графика траектории;
2. 
  а) Перемещаем все файлы из репозитория в одну директорию;
  б) Запускаем файл start.bat.
  
  Ход решения задачи.
  Для решения задачи было составленно дифференциальное уравнение движения по трем координатным осям. Уравнение включает в себя: 
1) Для оси Y - силу тяжести, направленную против оси, и аэродинамическую силу в направлении оси; 
2) Для осей X и Z - силу ветра, направленную в зависимости от текущей скорости ветра на данной высоте, и аэродинамическую силу направленную против движения тела. 
Сила ветра вычисляется как разность скоростей ветра на соседних высотах в таблице, деленную на время пролета груза через шаг таблицы и умноженную на массу груза. 

  Для получения решения дифференциального уравнения сначала был использован метод Эйлера, для повышения точности метод Эйлера был модифицирован в неявный метод Рунге-Кутты второго порядка. После оценки прогрешности методом Рунге был выбран приемлемый шаг итерации dt = 0.01. 
  Функция аэродинамической силы была интерполирована на каждом шаге таблицы сплайном 1-й степени. 
  Решение уравнения (траектория тела) зависят от координаты точки сброса и угла к оси Х, следовательно получим множество решений. В программе производится расчет траектории тела для угла PI/6, после - рассчет множества точек сброса груза; для каждого вычислительного модуля выводится время его работы. 
  Для нахождения точки сброса (при значении угла PI/6) производится рассчет траектории с точки {0,h,0}; после того, как найдена точка касания земли {x,0,z}, траектория парралельным переносом перемещается таким образом, чтобы точкой сброса оказалась {-x,h,-z}. Т.о. вычисляя вышеописанным способом траекторию тела, 
получаем множество пар из координат точки сброса и угла для данной координаты. 
  На графике, отображенном с помощью модулей Python, синим цветом отображена типичная тректория полета (при угле Pi/6) , а так же  оранжевым цветом множество координат сброса.

    
